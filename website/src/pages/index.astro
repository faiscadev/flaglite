---
// FlagLite Landing Page
import '../styles/landing.css';
import { Code } from 'astro:components';

// Code snippets for the tabs
const installNpm = `# Install via npm (includes CLI + SDK)
npm install -g flaglite

# Sign up (no email needed!)
flaglite signup

# Create your first flag
flaglite flags create dark-mode --enabled`;

const installCurl = `# Install CLI (works on macOS & Linux)
curl -fsSL https://flaglite.dev/install.sh | sh

# Sign up (no email needed!)
flaglite signup

# Create your first flag
flaglite flags create dark-mode --enabled`;

const installCargo = `# Install via Cargo (Rust)
cargo install flaglite

# Sign up (no email needed!)
flaglite signup

# Create your first flag
flaglite flags create dark-mode --enabled`;

const usageJs = `import { FlagLite } from 'flaglite';

const flags = new FlagLite({ apiKey: 'flg_...' });

if (await flags.enabled('dark-mode', { userId: user.id })) {
  enableDarkMode();
}`;

const usagePython = `from flaglite import FlagLite

flags = FlagLite(api_key="flg_...")

if flags.enabled("dark-mode", user_id=user.id):
    enable_dark_mode()`;

const usageGo = `import "github.com/faiscadev/flaglite-go"

flags := flaglite.New("flg_...")

if enabled, _ := flags.Enabled("dark-mode", userID); enabled {
    enableDarkMode()
}`;

const usageRust = `use flaglite::FlagLite;

let flags = FlagLite::new("flg_...");

if flags.enabled("dark-mode", &user_id).await? {
    enable_dark_mode();
}`;

const usageCli = `# Great for scripts, CI/CD, and automation

# Evaluate a flag
flaglite flags eval dark-mode --user-id user-123

# Use in a bash script
if flaglite flags eval dark-mode --user-id $USER_ID --quiet; then
    echo "Dark mode enabled!"
fi

# JSON output for parsing
flaglite flags eval dark-mode --user-id user-123 --format json`;

const selfHost = `git clone https://github.com/faiscadev/flaglite
cd flaglite
docker compose up -d`;
---

<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FlagLite — Ship features faster. Stress less.</title>
  <meta name="description" content="Feature flags that get out of your way. Open source, dead simple, and your first flag ships in 30 seconds.">
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <style>
    /* Critical CSS for tabs - ensures content visible before stylesheet loads */
    .tab-pane { display: none; }
    .tab-pane.active { display: block; }
  </style>
  <script>
    // Apply theme before page renders to prevent flash
    (function() {
      const saved = localStorage.getItem('theme');
      if (saved) {
        document.documentElement.setAttribute('data-theme', saved);
      }
    })();
  </script>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <nav class="nav container">
      <a href="/" class="logo"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="logo-icon"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/><line x1="4" y1="22" x2="4" y2="15"/></svg> FlagLite</a>
      <div class="nav-links">
        <a href="https://github.com/faiscadev/flaglite">GitHub</a>
        <a href="#pricing">Pricing</a>
        <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
          <svg class="theme-icon theme-icon-dark" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
          <svg class="theme-icon theme-icon-light" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
        </button>
      </div>
    </nav>
  </header>

  <!-- Hero -->
  <section class="hero">
    <div class="container">
      <h1>Ship features faster. Stress less.</h1>
      <p class="subhead">Feature flags that get out of your way. Open source, dead simple, and your first flag ships in 30 seconds.</p>
      <div class="cta-group">
        <a href="#quickstart" class="btn btn-primary">Get Started Free →</a>
        <a href="https://github.com/faiscadev/flaglite" class="btn btn-secondary">View on GitHub ↗</a>
      </div>
    </div>
  </section>

  <!-- Quick Start: Setup -->
  <section class="quickstart" id="quickstart">
    <div class="container">
      <h2>1. Install the CLI</h2>
      <p class="section-subtitle">Pick your favorite install method. No email required to sign up.</p>
      
      <div class="tabs install-tabs">
        <button class="tab active" data-tab="install-npm">npm</button>
        <button class="tab" data-tab="install-curl">curl</button>
        <button class="tab" data-tab="install-cargo">cargo</button>
      </div>
      
      <div class="tab-content">
        <div class="tab-pane active" id="install-npm">
          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">bash</span>
              <button class="copy-btn">Copy</button>
            </div>
            <Code code={installNpm} lang="bash" theme="github-light" />
          </div>
        </div>
        
        <div class="tab-pane" id="install-curl">
          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">bash</span>
              <button class="copy-btn">Copy</button>
            </div>
            <Code code={installCurl} lang="bash" theme="github-light" />
          </div>
        </div>
        
        <div class="tab-pane" id="install-cargo">
          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">bash</span>
              <button class="copy-btn">Copy</button>
            </div>
            <Code code={installCargo} lang="bash" theme="github-light" />
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Quick Start: Usage -->
  <section class="quickstart-usage" id="usage">
    <div class="container">
      <h2>2. Use in your app</h2>
      <p class="section-subtitle">Install the SDK for your language and evaluate flags in 3 lines.</p>
      
      <div class="tabs usage-tabs">
        <button class="tab active" data-tab="usage-js">JavaScript</button>
        <button class="tab" data-tab="usage-python">Python</button>
        <button class="tab" data-tab="usage-go">Go</button>
        <button class="tab" data-tab="usage-rust">Rust</button>
        <button class="tab" data-tab="usage-cli">CLI</button>
      </div>
      
      <div class="tab-content">
        <div class="tab-pane active" id="usage-js">
          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">bash</span>
              <button class="copy-btn">Copy</button>
            </div>
            <Code code="npm install flaglite" lang="bash" theme="github-light" />
          </div>
          <div class="code-block" style="margin-top: 1rem;">
            <div class="code-header">
              <span class="code-lang">javascript</span>
              <button class="copy-btn">Copy</button>
            </div>
            <Code code={usageJs} lang="javascript" theme="github-light" />
          </div>
        </div>
        
        <div class="tab-pane" id="usage-python">
          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">bash</span>
              <button class="copy-btn">Copy</button>
            </div>
            <Code code="pip install flaglite" lang="bash" theme="github-light" />
          </div>
          <div class="code-block" style="margin-top: 1rem;">
            <div class="code-header">
              <span class="code-lang">python</span>
              <button class="copy-btn">Copy</button>
            </div>
            <Code code={usagePython} lang="python" theme="github-light" />
          </div>
        </div>
        
        <div class="tab-pane" id="usage-go">
          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">bash</span>
              <button class="copy-btn">Copy</button>
            </div>
            <Code code="go get github.com/faiscadev/flaglite-go" lang="bash" theme="github-light" />
          </div>
          <div class="code-block" style="margin-top: 1rem;">
            <div class="code-header">
              <span class="code-lang">go</span>
              <button class="copy-btn">Copy</button>
            </div>
            <Code code={usageGo} lang="go" theme="github-light" />
          </div>
        </div>
        
        <div class="tab-pane" id="usage-rust">
          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">bash</span>
              <button class="copy-btn">Copy</button>
            </div>
            <Code code="cargo add flaglite" lang="bash" theme="github-light" />
          </div>
          <div class="code-block" style="margin-top: 1rem;">
            <div class="code-header">
              <span class="code-lang">rust</span>
              <button class="copy-btn">Copy</button>
            </div>
            <Code code={usageRust} lang="rust" theme="github-light" />
          </div>
        </div>
        
        <div class="tab-pane" id="usage-cli">
          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">bash</span>
              <button class="copy-btn">Copy</button>
            </div>
            <Code code={usageCli} lang="bash" theme="github-light" />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Value Props -->
  <section class="value-props">
    <div class="container">
      <div class="cards">
        <div class="card">
          <div class="card-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3l1.912 5.813a2 2 0 0 0 1.275 1.275L21 12l-5.813 1.912a2 2 0 0 0-1.275 1.275L12 21l-1.912-5.813a2 2 0 0 0-1.275-1.275L3 12l5.813-1.912a2 2 0 0 0 1.275-1.275L12 3z"/></svg>
          </div>
          <h3>Dead Simple</h3>
          <p>One SDK. One API call. No PhD required.</p>
        </div>
        <div class="card">
          <div class="card-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
          </div>
          <h3>No MAU Tax</h3>
          <p>$19/month flat. Not $19 per 1,000 users.</p>
        </div>
        <div class="card">
          <div class="card-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 0 1 9 9"/><path d="M4 4a16 16 0 0 1 16 16"/><circle cx="5" cy="19" r="1"/></svg>
          </div>
          <h3>API-First</h3>
          <p>SDKs for JS, Python, Go, Rust. Clean REST API.</p>
        </div>
        <div class="card">
          <div class="card-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3c-1.2 0-2.4.6-3 1.7A3.6 3.6 0 0 0 4.6 9c-1 .6-1.7 1.8-1.7 3 0 1.2.7 2.4 1.7 3a3.6 3.6 0 0 0 4.4 4.3 3.6 3.6 0 0 0 6 0 3.6 3.6 0 0 0 4.4-4.3c1-.6 1.7-1.8 1.7-3 0-1.2-.7-2.4-1.7-3a3.6 3.6 0 0 0-4.4-4.3A3.6 3.6 0 0 0 12 3z"/><path d="m8 12 3 3 5-5"/></svg>
          </div>
          <h3>Open Source</h3>
          <p>AGPL-3.0 licensed. Self-hostable. No vendor lock-in.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Comparison Table -->
  <section class="comparison" id="compare">
    <div class="container">
      <h2>Pick your poison.</h2>
      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th></th>
              <th class="highlight">FlagLite</th>
              <th>LaunchDarkly</th>
              <th>DIY</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Setup time</td>
              <td class="highlight">~30 seconds</td>
              <td>Hours</td>
              <td>Days</td>
            </tr>
            <tr>
              <td>Price</td>
              <td class="highlight">Free / $19/mo</td>
              <td>$$$$ + MAU</td>
              <td>Free + your sanity</td>
            </tr>
            <tr>
              <td>Self-hostable</td>
              <td class="highlight">✓</td>
              <td>✗</td>
              <td>✓</td>
            </tr>
            <tr>
              <td>Complexity</td>
              <td class="highlight">Flags + rollouts</td>
              <td>Kitchen sink</td>
              <td>Whatever you build</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- Pricing -->
  <section class="pricing" id="pricing">
    <div class="container">
      <h2>Pricing</h2>
      <p class="section-subtitle">No MAU tax. Ever.</p>
      
      <div class="pricing-cards pricing-cards-3">
        <div class="pricing-card">
          <div class="pricing-header">
            <h3>Free</h3>
            <div class="price">$0<span>/mo</span></div>
            <p class="price-label">Get started instantly</p>
          </div>
          <ul>
            <li>✓ 1,000 evals/day</li>
            <li>✓ 3 environments</li>
            <li>✓ 1 team member</li>
            <li>✓ All core features</li>
            <li>✓ Community support</li>
          </ul>
          <a href="#quickstart" class="btn btn-secondary">Get Started Free →</a>
        </div>
        
        <div class="pricing-card featured">
          <div class="pricing-badge">Popular</div>
          <div class="pricing-header">
            <h3>Pro</h3>
            <div class="price">$19<span>/mo</span></div>
            <p class="price-label">For growing teams</p>
          </div>
          <ul>
            <li>✓ Unlimited evaluations</li>
            <li>✓ Unlimited environments</li>
            <li>✓ 10 team members</li>
            <li>✓ 99.9% uptime SLA</li>
            <li>✓ Priority support</li>
          </ul>
          <a href="#quickstart" class="btn btn-primary">Get Started →</a>
        </div>
        
        <div class="pricing-card">
          <div class="pricing-header">
            <h3>Self-Hosted</h3>
            <div class="price">$0<span>/forever</span></div>
            <p class="price-label">Your servers, your rules</p>
          </div>
          <ul>
            <li>✓ Unlimited everything</li>
            <li>✓ Full source code</li>
            <li>✓ AGPL-3.0 licensed</li>
            <li>✓ Run anywhere</li>
            <li>✓ Community support</li>
          </ul>
          <a href="https://github.com/faiscadev/flaglite" class="btn btn-secondary">View on GitHub ↗</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Self-Hosting -->
  <section class="self-hosting" id="self-hosting">
    <div class="container">
      <div class="self-hosting-content">
        <div class="self-hosting-text">
          <h2>Prefer to self-host?</h2>
          <p>FlagLite runs anywhere Docker runs. Full source code, AGPL-3.0 licensed, zero vendor lock-in.</p>
          <a href="https://github.com/faiscadev/flaglite#quick-start-docker-compose" class="btn btn-secondary">Read the self-hosting docs →</a>
        </div>
        <div class="self-hosting-code">
          <div class="code-block">
            <div class="code-header">
              <span class="code-lang">bash</span>
              <button class="copy-btn">Copy</button>
            </div>
            <Code code={selfHost} lang="bash" theme="github-light" />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer CTA -->
  <section class="footer-cta">
    <div class="container">
      <h2>Start shipping features today</h2>
      <p>Your first flag is 30 seconds away. No credit card required.</p>
      <div class="cta-group">
        <a href="#quickstart" class="btn btn-primary">Get Started Free →</a>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-brand">
          <span class="logo"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="logo-icon"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/><line x1="4" y1="22" x2="4" y2="15"/></svg> FlagLite</span>
          <p>Feature flags for teams who ship fast.</p>
        </div>
        <div class="footer-links">
          <a href="https://github.com/faiscadev/flaglite">GitHub</a>
        </div>
      </div>
      <div class="footer-bottom">
        <p>© 2026 Faísca. AGPL-3.0 License.</p>
      </div>
    </div>
  </footer>

  <script>
    // Tab switching - scoped to each tab group
    document.querySelectorAll('.tab').forEach(tab => {
      tab.addEventListener('click', () => {
        const tabId = tab.dataset.tab;
        const tabContainer = tab.closest('.tabs');
        const section = tabContainer.closest('section');
        
        // Update active tab (only within this tab group)
        tabContainer.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
        
        // Update active pane (only within this section)
        section.querySelectorAll('.tab-pane').forEach(pane => pane.classList.remove('active'));
        document.getElementById(tabId).classList.add('active');
      });
    });

    // Copy code to clipboard
    document.querySelectorAll('.copy-btn').forEach(button => {
      button.addEventListener('click', () => {
        const codeBlock = button.closest('.code-block');
        const code = codeBlock.querySelector('code').textContent;
        
        navigator.clipboard.writeText(code).then(() => {
          const originalText = button.textContent;
          button.textContent = 'Copied!';
          button.style.color = 'var(--accent)';
          button.style.borderColor = 'var(--accent)';
          
          setTimeout(() => {
            button.textContent = originalText;
            button.style.color = '';
            button.style.borderColor = '';
          }, 2000);
        }).catch(err => {
          console.error('Failed to copy:', err);
        });
      });
    });

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });

    // Theme toggle
    const themeToggle = document.getElementById('theme-toggle');

    function getPreferredTheme() {
      const saved = localStorage.getItem('theme');
      if (saved) return saved;
      return window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark';
    }

    function setTheme(theme) {
      document.documentElement.setAttribute('data-theme', theme);
      localStorage.setItem('theme', theme);
    }

    // Initialize theme
    const currentTheme = getPreferredTheme();
    setTheme(currentTheme);

    // Toggle on click
    themeToggle.addEventListener('click', () => {
      const current = document.documentElement.getAttribute('data-theme') || getPreferredTheme();
      setTheme(current === 'light' ? 'dark' : 'light');
    });

    // Listen for system preference changes
    window.matchMedia('(prefers-color-scheme: light)').addEventListener('change', (e) => {
      if (!localStorage.getItem('theme')) {
        setTheme(e.matches ? 'light' : 'dark');
      }
    });
  </script>
</body>
</html>
